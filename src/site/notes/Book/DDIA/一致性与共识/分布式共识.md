---
{"dg-publish":true,"dg-permalink":"/分布式共识","permalink":"/分布式共识/"}
---


**共识** 是分布式计算中最重要也是最基本的问题之一。从表面上看似乎很简单：非正式地讲，目标只是 **让几个节点达成一致（get serveral nodes to agree on something）**

---

# 共识的应用场景

例如:

## 领导选举

> 在单主复制的数据库中，所有节点需要就哪个节点是领导者达成一致。如果一些节点由于网络故障而无法与其他节点通信，则可能会对领导权的归属引起争议。在这种情况下，共识对于避免错误的故障切换非常重要。错误的故障切换会导致两个节点都认为自己是领导者（**脑裂**，请参阅 “[处理节点宕机](http://ddia.vonng.com/#/ch5?id=%e5%a4%84%e7%90%86%e8%8a%82%e7%82%b9%e5%ae%95%e6%9c%ba)”）。如果有两个领导者，它们都会接受写入，它们的数据会发生分歧，从而导致不一致和数据丢失

## 原子提交

> 在支持跨多节点或跨多分区事务的数据库中，一个事务可能在某些节点上失败，但在其他节点上成功。如果我们想要维护事务的原子性（就 ACID 而言，请参阅 “[原子性](http://ddia.vonng.com/#/ch7?id=%e5%8e%9f%e5%ad%90%e6%80%a7)”），我们必须让所有节点对事务的结果达成一致：要么全部中止 / 回滚（如果出现任何错误），要么它们全部提交（如果没有出错）。这个共识的例子被称为 **原子提交（atomic commit）** 问题

# 2PC两阶段提交

![分布式共识-1670422179121.jpeg](data:image/png;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAQwAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMADQkKCwoIDQsKCw4ODQ8TIBUTEhITJxweFyAuKTEwLiktLDM6Sj4zNkY3LC1AV0FGTE5SU1IyPlphWlBgSlFST//bAEMBDg4OExETJhUVJk81LTVPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT//AABEIAZQEZgMBIgACEQEDEQH/xAAbAAEAAwEBAQEAAAAAAAAAAAAABAUGAwIBB//EAEcQAAEEAAIECgULBAICAgIDAAABAgMEBREGEhUxExQhQVFSVZGT0RYiVGFxIzIzNVNyc4GxweEHJEKhJTZDYjRjJnREgvH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/EABQRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AP0a7ZWrAkjYlkc56MRqKiZqq+85cavdmv8AFZ5jFfoYfx2fqTQIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/FZ5jjV7s1/is8yaAIXGr3Zr/F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)

## 角色

- 协调者(coordinator，也称为 **事务管理器**，即 transaction manager)
- 参与者(participants)

> 协调者通常在请求事务的相同应用进程中以库的形式实现（例如，嵌入在 Java EE 容器中），但也可以是单独的进程或服务

## 基本流程(正向)

1. 协调者发送一个 **准备（prepare）** 请求到每个节点，询问它们是否能够提交。然后协调者会跟踪参与者的响应
	1. 如果所有参与者都回答 “是”，表示它们已经准备好提交，那么协调者在阶段 2 发出 **提交（commit）** 请求，然后提交真正发生
	2. 如果任意一个参与者回复了 “否”，则协调者在阶段 2 中向所有节点发送 **中止（abort）** 请求


## 详细流程

1.  当应用想要启动一个分布式事务时，它向协调者请求一个事务 ID。此事务 ID 是全局唯一的
2.  应用在每个参与者上启动单节点事务，并在单节点事务上捎带上这个全局事务 ID。所有的读写都是在这些单节点事务中各自完成的。如果在这个阶段出现任何问题（例如，节点崩溃或请求超时），则协调者或任何参与者都可以中止
3.  当应用准备提交时，协调者向所有参与者发送一个 **准备** 请求，并打上全局事务 ID 的标记。如果任意一个请求失败或超时，则协调者向所有参与者发送针对该事务 ID 的中止请求
4.  参与者收到准备请求时，需要确保在任意情况下都的确可以提交事务。这包括将所有事务数据写入磁盘（出现故障，电源故障，或硬盘空间不足都不能是稍后拒绝提交的理由）以及检查是否存在任何冲突或违反约束。通过向协调者回答 **“是”**，节点承诺，只要请求，这个事务一定可以不出差错地提交。换句话说，参与者放弃了中止事务的权利，但没有实际提交
5.  当协调者收到所有准备请求的答复时，会就提交或中止事务作出明确的决定（只有在所有参与者投赞成票的情况下才会提交）。协调者必须把这个决定写到磁盘上的事务日志中，如果它随后就崩溃，恢复后也能知道自己所做的决定。这被称为 **提交点（commit point）**
6.  一旦协调者的决定落盘，提交或放弃请求会发送给所有参与者。如果这个请求失败或超时，协调者必须永远保持重试，直到成功为止。没有回头路：如果已经做出决定，不管需要多少次重试它都必须被执行。如果参与者在此期间崩溃，事务将在其恢复后提交 —— 由于参与者投了赞成，因此恢复后它不能拒绝提交

这里最重要的两个保证:
1. 当参与者投票 “是” 时，它承诺它稍后肯定能够提交（尽管协调者可能仍然选择放弃）
2. 一旦协调者做出决定，这一决定是不可撤销的

书里有个非常好的比喻:

> 回到婚姻的比喻，在说 “我愿意” 之前，你和你的新娘 / 新郎有中止这个事务的自由，只要回复 “没门！” 就行（或者有类似效果的话）。然而在说了 “我愿意” 之后，你就不能撤回那个声明了。如果你说 “我愿意” 后晕倒了，没有听到司仪说 “你们现在是夫妻了”，那也并不会改变事务已经提交的现实。当你稍后恢复意识时，可以通过查询司仪的全局事务 ID 状态来确定你是否已经成婚，或者你可以等待司仪重试下一次提交请求（因为重试将在你无意识期间一直持续）

## 2PC的问题

理论上只要协调者不故障就没问题，因为通过前面的两个保证，能做到一旦决策作出后，一定能按决策执行
但是如果协调者挂了，参与者相互之间并不知道彼此的状态，就会进入不确定状态，导致决策无法继续执行，所以2PC最大的不稳定性，就是决策者崩溃

# 3PC

> 两阶段提交被称为 **阻塞（blocking）**- 原子提交协议，因为存在 2PC 可能卡住并等待协调者恢复的情况。理论上，可以使一个原子提交协议变为 **非阻塞（nonblocking）** 的，以便在节点失败时不会卡住。但是让这个协议能在实践中工作并没有那么简单。
> 
> 作为 2PC 的替代方案，已经提出了一种称为 **三阶段提交（3PC）** 的算法【13,80】。然而，3PC 假定网络延迟有界，节点响应时间有限；在大多数具有无限网络延迟和进程暂停的实际系统中（见 [第八章](http://ddia.vonng.com/#/ch8)），它并不能保证原子性。
> 
> 通常，非阻塞原子提交需要一个 **完美的故障检测器（perfect failure detector）**【67,71】—— 即一个可靠的机制来判断一个节点是否已经崩溃。在具有无限延迟的网络中，超时并不是一种可靠的故障检测机制，因为即使没有节点崩溃，请求也可能由于网络问题而超时。出于这个原因，2PC 仍然被使用，尽管大家都清楚可能存在协调者故障的问题

总结来说，3PC没什么卵用

# XA事务

_X/Open XA_（**扩展架构（eXtended Architecture）** 的缩写）是跨 **异构技术** 实现两阶段提交的标准
XA事务是一套标准，Java提供了 **Java Transaction API** 来实现

# 分布式事务的限制

- 如果协调者没有高可用，则他会成为整个系统的单点
- 协调者本身会存储事务状态，因此会导致应用服务器变成有状态的服务器，无法简单扩容

# 容错共识

共识意味着让几个节点就某事达成一致，这种共识需要满足以下几点

1. 一致同意（Uniform agreement）：没有两个节点的决定不同
2. 完整性（Integrity）: 没有节点决定两次
3. 有效性（Validity）: 如果一个节点决定了值 `v` ，则 `v` 由某个节点所提议
4. 终止（Termination）: 由所有未崩溃的节点来最终决定值

如果不关心容错，则满足前三点是很简单，比如2PC就可以满足，只要由一个节点说了算，但是，这样就无法保证高可用，按书里的说法，*终止* 是活性属性，而其他几点是 *安全属性*

> [!quote]
> 任何共识算法都需要至少占总体 **多数（majority）** 的节点正确工作，以确保终止属性【67】。多数可以安全地组成法定人数

## 常见的共识算法

- 视图戳复制(VSR, Viewstamped Replication)
- Paxos
- Raft
- Zab

## 共识算法的原理

大多数共识算法，都是通过实现全序广播来实现共识，实现全序广播的基础是

- 由于 **一致同意** 属性，所有节点决定以相同的顺序传递相同的消息
- 由于 **完整性** 属性，消息不会重复
- 由于 **有效性** 属性，消息不会被损坏，也不能凭空编造
- 由于 **终止** 属性，消息不会丢失

# 单主复制与共识

单主复制其实就是一个简单的全序广播系统，但是它没有共识问题，因为它只有一个leader，属于 *独裁类型* 的共识算法(有点类型2PC)，这样的系统在实践中可以表现良好，但它无法满足共识的 **终止** 属性，因为它需要人为干预才能取得 **进展**

如果加入了自动领导者切换，这里就有个很有意思的问题: 自动领导者切换需要共识选出一位领导者，而单主复制只有在领导者挂了的时候才需要进行切换，变成了一个先有鸡还是先有蛋的问题

## 如何解决这个问题?

> [!quote]
> 迄今为止所讨论的所有共识协议，在内部都以某种形式使用**一个领导者**，但它们并**不能保证领导者是独一无二的**

### 纪元编号

协议定义了一个 **纪元编号**（epoch number，在 Paxos 中被称为 **投票编号**，即 ballot number，在视图戳复制中被称为 **视图编号**，即 view number，以及在 Raft 中被为 **任期号码**，即 term number），并确保在每个时代中，领导者都是唯一的

因为纪元编号是全局递增的，如果发生了脑裂，则以编号更高的为准

在任何领导者被允许决定任何事情之前，必须先检查是否存在其他带有更高纪元编号的领导者

对领导者想要做出的每一个决定，都必须将提议值发送给其他节点，并等待法定人数的节点响应并赞成提案。法定人数通常（但不总是）由多数节点组成。只有在没有意识到任何带有更高纪元编号的领导者的情况下，一个节点才会投票赞成提议

> 因此，我们有两轮投票：第一次是为了选出一位领导者，第二次是对领导者的提议进行表决。关键的洞察在于，这两次投票的 **法定人群** 必须相互 **重叠（overlap）**：如果一个提案的表决通过，则至少得有一个参与投票的节点也必须参加过最近的领导者选举【105】。因此，如果在一个提案的表决过程中没有出现更高的纪元编号。那么现任领导者就可以得出这样的结论：没有发生过更高时代的领导选举，因此可以确定自己仍然在领导。然后它就可以安全地对提议值做出决定。
> 
> 这一投票过程表面上看起来很像两阶段提交。最大的区别在于，2PC 中协调者不是由选举产生的，而且 2PC 则要求 **所有** 参与者都投赞成票，而容错共识算法只需要多数节点的投票。而且，共识算法还定义了一个恢复过程，节点可以在选举出新的领导者之后进入一个一致的状态，确保始终能满足安全属性。这些区别正是共识算法正确性和容错性的关键

### 概括一下

1. 全局的纪元编号，避免脑裂
2. 领导者必须由多数法定人数选举得到
3. 领导者做决定(提案)时，也必须由多数的法定人数节点赞成
4. 提案表决时的节点也至少得有一个参与过选举，否则可能当前做决定的节点已经不是领导了，提案无效


